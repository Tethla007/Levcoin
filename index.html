<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DexScreener Price Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; 
      padding: 20px;
      background: #f4f4f4;
      color: #333;
    }
    #price {
      font-size: 1.5rem;
      margin-top: 20px;
    }
    .info {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 400px;
    }
  </style>
</head>
<body>
  <div class="info">
    <h1>DexScreener Solana Pair</h1>
    <div id="price">Fetching price...</div>
  </div>

  <script>
    async function fetchPrice() {
      try {
        const response = await fetch(
          'https://api.dexscreener.com/latest/dex/pairs/solana/57kbsu4Uj6KazfYVKDhyexDcLvovzxXVHpRsJXJm7weQ',
          {
            method: 'GET',
            headers: {}
          }
        );
        if (!response.ok) {
          throw new Error(`Network response was not OK: ${response.status}`);
        }

        const data = await response.json();
        console.log('DexScreener response:', data);

        // Example JSON structure might be:
        // {
        //   "pair": {
        //     "priceUsd": "0.00369567198439",
        //     ... other fields ...
        //   }
        // }

        // Adjust if the key is different. Check the console log for exact structure.
        const priceUsd = data?.pair?.priceUsd;

        if (!priceUsd) {
          throw new Error('Could not find priceUsd in the response');
        }

        // Display the price on screen
        document.getElementById('price').textContent = `Price: $${Number(priceUsd).toLocaleString(undefined, {minimumFractionDigits: 10})}`;
      } catch (error) {
        console.error('Error fetching price:', error);
        document.getElementById('price').textContent = 'Error fetching price.';
      }
    }

    // Fetch on page load
    fetchPrice();

    // Update every 10 seconds
    setInterval(fetchPrice, 10000);
  </script>
</body>
</html>
